{"version":3,"file":"static/js/33.99b0b9c0.chunk.js","mappings":"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","sources":["components/MoviesAPI.js","pages/MovieDetails/MovieDetails.styled.js","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst KEY = 'f34ed5891c665d5a7f0c87dfa3d7e171';\n\n//---- Запрос самых популярных фильмов на сегодня ----\nexport const fetchTrendingMovies = async () => {\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/trending/all/day',\n    {\n      params: {\n        api_key: KEY,\n      },\n    }\n  );\n  return response.data;\n};\n\n//---- Запрос по поиску кинофильма ----\nexport const fetchMoviesbySearch = async input => {\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/search/movie',\n    {\n      params: {\n        query: input,\n        api_key: KEY,\n      },\n    }\n  );\n  return response.data;\n};\n\n//---- Запрос полной информации о фильме ----\nexport const fetchMovieDetails = async id => {\n  const response = await axios.get(`https://api.themoviedb.org/3/movie/${id}`, {\n    params: {\n      api_key: KEY,\n    },\n  });\n  return response.data;\n};\n\n//---- Запрос информации о актёрском составе ----\nexport const fetchMovieCast = async id => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/credits`,\n    {\n      params: {\n        api_key: KEY,\n      },\n    }\n  );\n  return response.data;\n};\n\n//---- Запрос обзоров ----\nexport const fetchMovieReviews = async id => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/reviews`,\n    {\n      params: {\n        api_key: KEY,\n      },\n    }\n  );\n  return response.data;\n};\n","import styled from '@emotion/styled';\nimport { NavLink } from 'react-router-dom';\n\nexport const BackLink = styled(NavLink)`\n  display: inline-flex;\n  padding: 5px 5px;\n  color: #0a5c5f;\n  font-size: 20px;\n  font-weight: 500;\n  text-transform: uppercase;\n  /* background-color: gold; */\n  margin-bottom: 10px;\n  border-radius: 4px;\n  border: 1px solid rgb(47, 158, 153);\n\n  :hover {\n    color: goldenrod;\n  }\n`;\n\nexport const Container = styled.div`\n  display: flex;\n  border-bottom: 1px solid rgb(47, 158, 153);\n`;\n\nexport const Image = styled.img`\n  width: 400px;\n  border-radius: 4px;\n  object-fit: cover;\n  margin-bottom: 20px;\n`;\n\nexport const MovieInfoContainer = styled.div`\n  margin-left: 15px;\n`;\n\nexport const MovieTitle = styled.h2`\n  text-transform: uppercase;\n  font-size: 30px;\n  font-weight: 700;\n  margin-bottom: 15px;\n  font-family: 'Andale Mono', monospace;\n  color: goldenrod;\n`;\n\nexport const Сriteria = styled.p`\n  font-family: 'Andale Mono', monospace;\n  font-size: 24px;\n  font-weight: 600;\n  color: #0a5c5f;\n  margin-bottom: 10px;\n`;\n\nexport const Details = styled.p`\n  font-family: 'Andale Mono', monospace;\n  font-size: 20px;\n  font-weight: 500;\n  margin-bottom: 15px;\n  color: dimgrey;\n  line-height: 30px;\n`;\n\nexport const Average = styled.span`\n  display: inline-block;\n  color: white;\n  background-color: #2f9e99;\n  border-radius: 5px;\n  padding: 1px 10px;\n  font-weight: 500;\n  font-size: 18px;\n`;\n\nexport const StyledLink = styled(NavLink)`\n  margin-right: 15px;\n\n  color: white;\n  background-color: #2f9e99;\n  border-radius: 5px;\n  padding: 2px 10px;\n  font-weight: 500;\n  font-size: 22px;\n  text-align: center;\n\n  :hover,\n  :focus,\n  :active {\n    background-color: #075a56;\n  }\n`;\n\nexport const LinkContainer = styled.div`\n  margin-top: 20px;\n  margin-bottom: 25px;\n  text-align: center;\n`;\n","import { useState, useEffect, Suspense } from 'react';\nimport { useParams, Outlet, useLocation } from 'react-router-dom';\n\nimport { fetchMovieDetails } from '../../components/MoviesAPI';\n\nimport {\n  BackLink,\n  Container,\n  Image,\n  MovieInfoContainer,\n  MovieTitle,\n  Сriteria,\n  Details,\n  Average,\n  LinkContainer,\n  StyledLink,\n} from './MovieDetails.styled';\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState([]);\n  const { moviesId } = useParams();\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  useEffect(() => {\n    async function fetchDetails() {\n      try {\n        const movieDetails = await fetchMovieDetails(moviesId);\n        setMovie(movieDetails);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    fetchDetails();\n  }, [moviesId]);\n\n  const { poster_path, release_date, title, vote_average, overview, genres } =\n    movie;\n\n  return (\n    <>\n      <BackLink to={backLinkHref}>⇦ Back</BackLink>\n      <Container>\n        {poster_path ? (\n          <Image\n            src={`https://image.tmdb.org/t/p/w500/${poster_path}`}\n            alt={title}\n          />\n        ) : (\n          <Image\n            src=\"https://upload.wikimedia.org/wikipedia/commons/4/43/Illustration_of_an_image.png\"\n            alt={title}\n          />\n        )}\n\n        <MovieInfoContainer>\n          <MovieTitle>\n            {title} ({release_date && new Date(release_date).getFullYear()})\n          </MovieTitle>\n          <Details>\n            User score: <Average> {Math.round(vote_average * 10)}%</Average>\n          </Details>\n          <Сriteria>Overview</Сriteria>\n          <Details>{overview}</Details>\n          <Сriteria>Geners</Сriteria>\n          {genres && (\n            <Details>{genres.map(genre => genre.name).join(' ')}</Details>\n          )}\n        </MovieInfoContainer>\n      </Container>\n      <LinkContainer>\n        <StyledLink to=\"cast\" state={{ from: backLinkHref }}>\n          Cast\n        </StyledLink>\n        <StyledLink to=\"reviews\" state={{ from: backLinkHref }}>\n          Reviews\n        </StyledLink>\n      </LinkContainer>\n      <Suspense fallback={<div>Loading subpage...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n}\n"],"names":["KEY","fetchTrendingMovies","axios","params","api_key","response","data","fetchMoviesbySearch","input","query","fetchMovieDetails","id","fetchMovieCast","fetchMovieReviews","BackLink","styled","NavLink","Container","Image","MovieInfoContainer","MovieTitle","Сriteria","Details","Average","StyledLink","LinkContainer","MovieDetails","useState","movie","setMovie","moviesId","useParams","backLinkHref","useLocation","state","from","useEffect","movieDetails","console","log","fetchDetails","poster_path","release_date","title","vote_average","overview","genres","to","src","alt","Date","getFullYear","Math","round","map","genre","name","join","Suspense","fallback"],"sourceRoot":""}